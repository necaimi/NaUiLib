var Fn=Function,global=(new Fn("return this"))();if(!global.UiLib){global.UiLib={}}global.UiLib.SelectBox={checkedHandler:function(a,b){},InitlizeComplete:function(a,b){},Initlize:function(){function b(c){this._obj=c,this._oldIndex=null;this._itemmap={};this._isMutux=true;this._hoverselect=false;this._selectItem=function(d){d.check(true);if(this._oldIndex!=null&&this._isMutux){this._itemmap["item-"+this._oldIndex].check(false)}this._oldIndex=d._index};this._cancelItem=function(d){d.check(false)};$(this._obj).bind("InitlizeComplete",function(e,f){var d=UiLib.SelectBox.InitlizeComplete.apply(f.target,arguments);if(d){return d}else{return(new $.Deferred()).resolve().promise()}})}b.prototype.getObj=function(){return this._obj};b.prototype.setMutux=function(c){this._isMutux=c};b.prototype.setHoverSelect=function(c){this._hoverselect=c};b.prototype.getInnerObj=function(){return this};b.prototype.addItem=function(f,e,c){if(!f){return null}if(this._itemmap["item-"+c]){return null}var d=new a(f,e,c,this);$(f).bind("click",function(){var g=d._parent;if(d._checked&&g._isMutux){return true}if(g._isMutux){g._selectItem(d)}else{d._checked?g._cancelItem(d):g._selectItem(d)}}).bind("checked",function(){var g=d._cfn.apply(d,arguments);if(g){return g}else{return(new $.Deferred()).resolve().promise()}});this._itemmap["item-"+c]=d;return d};b.prototype.selectIndex=function(d){var c=this._itemmap["item-"+d];this._selectItem(c)};b.prototype.cancelIndex=function(d){var c=this._itemmap["item-"+d];this._cancelItem(c)};b.prototype.getItems=function(){var e=new Array;if(this._isMutux){e.push(this._itemmap["item-"+this._oldIndex]);return e}else{for(var d in this._itemmap){var c=this._itemmap[d];if(c._checked){e.push(c)}}return e}};function a(f,e,c,d){this._obj=f,this._cfn=e,this._checked=false,this._index=c,this._parent=d}a.prototype.check=function(c){var d=this._checked==c;this._checked=c;if(!d){$(this._obj).triggerHandler("checked",{"checked":c,"target":this._obj})}};$("[c-type='selectbox']").each(function(d,e){var f=new b(this),c=$(this);c.find("[c-type='item']").each(function(g,h){f.addItem(this,UiLib.SelectBox.checkedHandler,g)});this.prototype=f;c.triggerHandler("InitlizeComplete",{"target":f})})}};